# Parking Service Engine
## Что это
Это ответ на тестовое задание для BACK-END разработчика учебного проекта «Парковки Москвы».  
Сервис представляет собой поисковую систему парковочных мест в базе данных адресов.  
## Архитектура проекта
Сервис основан на Spring Boot 2.7.6 и Manticore Search 5.0.2.  
## Возможности сервиса
Сервис имеет одну точку входа `GET /pse/getListOfMatches` с параметром `@RequestParam String queryString` и производит поиск совпадений строки запроса с записями в базе данных.  
В случае наличия совпадений возвращает список записей базы данных в которых были совпадения.  
Совпадения проверяются по правилу query*, но могут быть изменены в настройках.
## Настройка проекта
В application.properties возможны следующие настройки:  
`manticore.server.url` - url развернутой базы данных Manticore;  
`manticore.index_name` - название индекса базы данных;  
`manticore.column_name` - название столбца в индексе в котором будут проверяться совпадения;
`manticore.query_type` - тип запроса, для данного проекта должно быть значение "query_string";  
`manticore.wildcard_operator.left` и `manticore.wildcard_operator.right` - левый и правый подстановочные знаки для управления поиском (необходимо или оставлять поле пустым или использовать символ звездочка);
`manticore.limit_of_items` - ограничение максимального количества элементов возвращаемого списка.  
## CI/CD
В качестве CI/CD используется GithubAction.  
При коммите в любую ветку будет запущен процесс сборки сервиса.
## Сборка проекта
```mvn clean install```
## Запуск проекта локально
```mvn spring-boot:run```
## Запуск проекта в docker контейнере
Для развертывания приложения на удаленном сервере в репозитории есть Dockerfile.  
## Что не сделано в этом проекте
- отсутствуют модульные тесты;
- отсутствуют интеграционные тесты с Manticore Java API;
- отсутствует документация API.
## Демонстрация работы сервиса
Сервис развернут и доступен по адресу: `92.63.98.246:8089`.  
База данных Manticore доступна по адресу: `92.63.98.246:9306` для MySQL клиентов и `92.63.98.246:9308` для HTTP соединений.
